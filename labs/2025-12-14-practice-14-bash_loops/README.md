# Практична робота 14

- Bash Loops

[docs](https://docs.rockylinux.org/10/books/learning_bash/07-loops/)

## Завдання:

### 1 Створити скрипт `numbers.sh`

- який за допомогою циклу `for` виводить числа від `1` до `20`.

`numbers.sh`
```bash
for i in {1..20}; do
    echo "$i"
done
```

---

### 2 Створити скрипт `listfiles.sh`, який:

- перебирає в циклі всі файли з розширенням `.txt`
- виводить: `"Знайдено файл: ім'я"`

`listfiles.sh`
```bash
for f in *.txt; do
    [ -f "$f" ] || continue
    echo "Знайдено файл: $f"
done
```

---

### 3 Створити скрипт countdown.sh, який:

- запитує у користувача число
- запускає цикл `while`, який відлічує від цього числа до `1`
- після завершення виводить `"Старт!"`

`countdown.sh`
```bash
echo -n "Введи число: "
read num

while [ "$num" -gt 0 ]; do
    echo "$num"
    num=$((num - 1))
done

echo "Старт!"
```

---

### 4 Створити скрипт `waitfile.sh`, який:

- у циклі `until` перевіряє, чи з’явився файл `result.txt`
- перевірка раз у 1 секунду
- коли файл з’явиться - виводить `"Файл знайдено"`

`waitfile.sh`
```bash
until [ -f result.txt ]; then
    sleep 1
done

echo "Файл знайдено"
```

---

### 5 Створити скрипт `sumloop.sh`, який:

- у циклі `for` додає всі числа від `1` до `10`
- виводить загальну суму

`sumloop.sh`
```bash
sum=0

for i in {1..10}; do
    sum=$((sum + i))
done

echo "Сума: $sum"
```

---

### 6 Створити скрипт `menu.sh` — просте текстове меню в циклі while:

- Приклад:
  - `1` `Показати дату`
  - `2` `Показати список файлів`
  - `3` `Вийти`

Меню повторюється, доки користувач не введе `3`.

`menu.sh`
```bash
choice=0

while [ "$choice" != 3 ]; do
    echo "1 - Показати дату"
    echo "2 - Показати список файлів"
    echo "3 - Вийти"
    echo -n "Вибір: "
    read choice

    if [ "$choice" = 1 ]; then
        date
    elif [ "$choice" = 2 ]; then
        ls
    elif [ "$choice" = 3 ]; then
        echo "Вихід..."
    else
        echo "Невідомий варіант"
    fi
done
```

[Демонстрація](https://youtu.be/LKCeDaDI7cQ)

---

## Висновок:

- Цикли в `Bash` використовують там, де треба регулярно щось перевіряти або обробляти:
    - моніторинг сервісів (кожні `N` секунд перевірити, чи живий процес)
    - обробка файлів у директоріях (пройтись по логах, беккапах, дампах)
    - автоматизація при деплоях (пройти конфіги, застосувати міграції, перевірити статуси)
    - побудова нескінченних сервісних лупів (демони, обробники черг, cron-логіка)
    - створення тестових середовищ (перевіряти ресурси, чекати готовність `VM` чи контейнера)